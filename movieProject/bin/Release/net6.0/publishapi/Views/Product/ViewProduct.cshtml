@using movieProject.Models.Product
@model Product
@{
    ViewData["Title"] = "View Product";
    var category = "";
    var onSale = "";
    var style = "";
}

<div>
    @switch (Model.CategoryID)
    {
        case 1:
            category = "\\images\\product\\computers.jpg";
            break;
        case 2:
            category = "\\images\\product\\appliances.jpg";
            break;
        case 3:
            category = "\\images\\product\\phones.jpg";
            break;
        case 4:
            category = "\\images\\product\\audio.jpg";
            break;
        case 5:
            category = "\\images\\product\\home-theater.jpg";
            break;
        case 6:
            category = "\\images\\product\\printers.jpg";
            break;
        case 7:
            category = "\\images\\product\\music.jpg";
            break;
        case 8:
            category = "\\images\\product\\controllers.jpg";
            break;
        case 9:
            category = "\\images\\product\\services.png";
            break;
        case 10:
            category = "\\images\\product\\other.jpeg";
            break;
        default:
            category = "\\images\\product\\other.jpeg";
            break;
    }
    <div class="col-sm-3 pt-3 m-auto">
        <div class="card mb-3 text-center">
            <div class="text-center">
                <img class="card-img-top opacity-25 rounded img-fluid" src="@category" alt="product backdrop" style="max-height: 300px; min-height: 300px;">
                <div class="card-img-overlay">
                    <h3 class="card-title">@Model.Name</h3>
                    <h4 class="card-text pb-2" style="color: forestgreen">$@Model.Price</h4>
                    @if (Model.OnSale == 1)
                    {
                        onSale = "SALE!";
                        style = "color: red;";
                    }
                    <h5 class="card-text" style="@style">@onSale</h5>
                    <h6>Stock:</h6>
                    <p>@Model.StockLevel</p>
                    <div style="display: block" class="pb-3">
                        <a href="/Product/UpdateProduct/@Model.ProductID" class="btn btn-primary btn-outline-dark">update product</a>
                    </div>

                    <div style="display: block">

                        @using (Html.BeginForm("DeleteProduct", "Product", "Post"))
                        {
                            <input type="hidden" asp-for="ProductID" value="@Model.ProductID" />
                            <input type="submit" onclick="return confirm('Are you sure?')" value="delete product" class="btn btn-danger btn-outline-dark" />
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
